//
// データエンジニアリング(DE)基礎(T)
// 4.データベース CBT多肢選択式課題 (GIFTフォーマット)
// ver.2022/12/30 22問

// question 01: 東大MIセンタースライド p.4
::Q4.1.1 データ管理基盤としてのDB::
データベースとは，組織化されたデータの集まりを意味している．ここでデータ管理基盤としてのDBとして，大規模データの管理・運用例として該当するものを，以下から全て選べ：{
~%20%大学の学生，職員情報の管理システム
~%20%病院の患者のカルテ管理システム
~%20%遺伝子データの管理システム
~%20%判例を管理するシステム
~%20%商品の注文を行うシステム
~%-100%ある1クラスの数学の成績表
~%-100%写真アルバム中の画像データそれ自体
}

// question 02: sec.1.2 テーブル定義
::Q4.1.2 テーブル定義::
次の文章における（ア）（イ）（ウ）にあてはまる語句の組み合わせとして，適切なものを1つ選べ：
《既存のデータベースの構造を知っていれば，それへの検索・追加・更新・削除のために，どのような（ア）を書けばよいかがわかる．対象（何らかの概念や状況）をデータベースの構造で表現することを（イ）と呼ぶ．RDB 向けの（イ）として （ウ）がある．》{
=（ア）SQLクエリ（イ）データモデリング（ウ）ERモデリング
~（ア）SQL文法（イ）データモデリング（ウ）ERモデリング
~（ア）SQLクエリ（イ）構造化モデリング（ウ）ERモデリング
~（ア）SQLクエリ（イ）データモデリング（ウ）仮想関連モデリング
}

// question 03: sec.1.2 旅行予約サイトにおけるDBの果たす役割
::Q4.1.2 旅行予約サイトにおけるDBの果たす役割::
ホテル・宿泊予約管理システムとはPMS（Property Mangement System）とも呼ばれ，商用実装も多い．PMSの仕組みと機能について該当するものを，以下から全て選べ：{
~%25%予約受付管理
~%25%客室・空席状況管理
~%25%フロント管理
~%25%伝票作成
~%-100%近隣の駐車場の空き状況管理
~%-100%付近の飲食店の営業状況のリアルタイム把握
}

// question 04: 気象庁 過去の気象データ・ダウンロード
::Q4.M.1.2 気象庁 過去の気象データ・ダウンロード::
[html]気象庁 過去の気象データ・ダウンロード で，CSVデータエクスポートできる選択項目が多数用意されている．以下の選択肢から，当気象データから取得できない観測データを選べ：<br>
<hr>
<pre>https://www.data.jma.go.jp/gmd/risk/obsdl/</pre>
<hr>{
=[moodle]最大積雪量
~[moodle]日最深積雪量
~[moodle]降雪量日合計の日最大
~[moodle]降雪量日合計3cm以上の日数
}

// question 05: sec.1.3 ERモデル
::Q4.1.3.1 ERモデル::
次の文章における（ア）（イ）（ウ）にあてはまる語句の組み合わせとして，適切なものを1つ選べ：
《ERモデルは，（ア）と（イ）に基づくモデルである．ERモデルはダイアグラムの形で記述される．各要素は，複数の（ウ）から成る集合である．》{
=（ア）実体（entity）（イ）実体間の関連（relationship）（ウ）インスタンス（実例）
~（ア）実態（reality）（イ）実体間の関連（relationship）（ウ）インスタンス（実例）
~（ア）実体（entity）（イ）実態間の関係（entities）（ウ）インスタンス（実例）
~（ア）実体（entity）（イ）実体間の関連（relationship）（ウ）オブジェクト（object）
}

// question 06: sec.1.3 ERモデル
::Q4.1.3.2 ERモデル::
次の文章における（ア）（イ）（ウ）にあてはまる語句の組み合わせとして，適切なものを1つ選べ：
《ERモデルは，要素を線で繋ぐことでモデルの構造を記述する．実体は（ア）, 属性は（イ）で表現する．実体集合間の関連 は （ウ） で表現する．》{
=（ア）四角（イ）楕円（ウ）ひし形
~（ア）正方形（イ）楕円（ウ）ひし形
~（ア）四角（イ）円（ウ）ひし形
~（ア）四角（イ）楕円（ウ）台形
}

// question 07: sec.1.3 ERモデルから関係データベースへの変換ルール
::Q4.1.3.3 ERモデルから関係データベースへの変換ルール::
ERモデルから関係データベースへの変換ルールについて，正しい手順を以下から全て選べ：{
~%33.33333%実体集合：属性をそのまま列にする
~%33.33333%関連：2つの実体の主キーと関連の属性を列にする
~%33.33333%変換後は，複数の実体集合をデータ項目（親テーブル）として，外部参照しながら関連性を表したもの（子テーブル）を作成する
~%-100%１対１の関係で繋がる実体集合は，テーブルを内部キーで参照する
~%-100%１対多や多対多の関係で繋がる実体集合は，インスタンスを番号付けすることなく副キーで参照する
}

// question 08: sec.2.1 関係モデルとしてのリレーショナルデータベース(RDB)
::Q4.2.1.1 関係モデルとしてのリレーショナルデータベース(RDB)::
リレーショナルデータベース(RDB)を想定したとき，関係モデルの定義が重要である．ここで「関係」として定義される項目として該当するものを，以下から全て選べ：{
~%25%データテーブル：実体
~%25%データ項目：属性集合（スキーマ）
~%25%フィールド名：属性（カラム）
~%25%各データレコード：タプル（行）
~%-100%フィルターで指定されるインデックス項目
~%-100%データレコード番号
}

// question 09: sec.2.2 DBスキーマ
::Q4.2.2.1 DBスキーマ::
データベース・スキーマとは何か．以下から適切な説明を1つ選べ：{
=データ項目における，表の名前と属性の集合のこと
~関係内のルールのようなもの
~属性集合の中から１つ選んだキーのこと
~登録されている項目した入力できないように指定する属性のこと
}

// question 10: sec.2.3 関係モデルの定式化
::Q4.2.3.1 関係モデルの定式化::
[html]以下のように属性と属性の定義域を設定したとき，各データレコードは関係Rとして形式化できる．関係Rの集合として正しい定義は以下のどれか：<br>
<hr>
<pre>
属性：科目（科目番号，科目名，中間試験の有無）
属性の定義域：科目番号=｛C001,C002,...｝，科目名=｛データ管理, 情報基礎, ...｝，中間試験の有無=｛有,無｝
</pre>
<hr>{
=[moodle]関係 R ⊆ 科目番号 x 科目名 x 中間試験の有無（直積）
~[moodle]関係 R ⊆ 科目番号 ∪ 科目名 ∪ 中間試験の有無（和）
~[moodle]関係 R ⊆ 科目番号 ∩ 科目名 ∩ 中間試験の有無（積）
~[moodle]関係 R ⊆ (科目番号 ∩ 科目名) ∪ 中間試験の有無（積・和）
}

// question 11: sec.2.4 関係従属性とキー
::Q4.2.4.1 関係従属性とキー::
データベースにおける関係従属性とキーについて，誰が関係従属性を決めるのか？その主体について以下から適切な説明を全て選べ：{
~%50%データの性質によって決めていく
~%50%RDB設計者の裁量による
~%-100%属性集合の中から１つ選んだキーで決まる
~%-100%関係モデルの定式化の結果によって決まる
}

// question 12: sec.2.6主キー, 外部キー，参照制約
::Q4.2.6.1 主キー, 外部キー，参照制約::
関係データベースにおける主キー，外部キー，参照制約に関して，以下から適切な説明を1つ選べ：{
=主キーとは，データベースの設計者が属性集合の中から１つ選んだキーのことである
~外部キーとは，関係表の表のある列に，別の関係表の特定の列に登録されている項目が入力できるように指定する属性のことである
~参照制約とは，外部キーを設定することで，参照先の関係表の指定された列に，あらゆる値を書き込むことができるようにする制約のことである
}

// question 13: sec.2.6主キー, 外部キー，参照制約
::Q4.2.6.2 主キー, 外部キー，参照制約::
関係データベースにおける主キー，外部キー，参照制約に関して，以下から適切な説明を1つ選べ：{
=外部キーとは，関係表の表のある列に，別の関係表の特定の列に登録されている項目しか入力できないように指定する属性のことである
~主キーとは，データベースの設計者が属性集合の中から選んだ複数のキーのことである
~参照制約とは，外部キーを設定することで，参照先の関係表の指定された列に，あらゆる値を書き込むことができるようにする制約のことである
}

// question 14: sec.2.6主キー, 外部キー，参照制約
::Q4.2.6.3 主キー, 外部キー，参照制約::
関係データベースにおける主キー，外部キー，参照制約に関して，以下から適切な説明を1つ選べ：{
=参照制約とは，外部キーを設定することで，参照先の関係表の指定された列に，登録された値しか書き込むことができない制約のことである
~外部キーとは，関係表の表のある列に，別の関係表の特定の列に登録されている項目が入力できるように指定する属性のことである
~主キーとは，データベースの設計者が属性集合の中から選んだ複数のキーのことである
}

// question 15: sec.3.3 SQL
::Q4.3.3.1 SQL::
関係データベース言語 SQL について，以下から適切な説明を全て選べ：{
~%25%スキーマ定義やデータ操作などを行うための言語
~%25%ISO (国際標準機構) によって標準化
~%25%異なる関係データベース管理システム上で動作（プットフォーム非依存．ミドルウェアと呼ぶ）
~%25%関係代数の演算（制限，射影，結合，直積）を記述する
~%-100%ミドルウェア的な存在ではなく，特定のプログラミング言語（C,Javaなど）から呼び出されることがほとんどである
}

// question 16: sec.3.4 関係データベースに対する演算
::Q4.3.4.0 関係データベースに対する演算::
関係データベースに対する演算について，以下から適切な説明を全て選べ：{
~%25%制限：いくつかのタプル（行）の抽出
~%25%射影：いくつかの属性（カラム）の抽出
~%25%結合：ある属性で関係AとBを結びつける
~%25%直積：関係AとBの組み合わせの「全てのパターン」を得る
~%-100%合併：ある属性で関係AとBの和集合を得る
}

// question 17: sec.3.4.1 関係データベースに対する演算：制限
::Q4.3.4.1 関係データベースに対する演算：制限::
関係データベースに対する演算「制限」について，以下から適切な説明を１つ選べ：{
=ある条件に該当するタプル（行）の取得を行う
~ある属性（カラム）だけを取得する
~複数の関係（テーブル）を単純に直積集合で求める
~複数の関係（テーブル）の直積集合のviewから，必要なレコードだけを抽出する
}

// question 18: sec.3.4.2 関係データベースに対する演算：射影
::Q4.3.4.2 関係データベースに対する演算：射影::
関係データベースに対する演算「射影」について，以下から適切な説明を１つ選べ：{
=ある属性（カラム）だけを取得する
~複数の関係（テーブル）を単純に直積集合で求める
~複数の関係（テーブル）の直積集合のviewから，必要なレコードだけを抽出する
~ある条件に該当するタプル（行）の取得を行う
}

// question 19: sec.3.4.3 関係データベースに対する演算：直積
::Q4.3.4.3 関係データベースに対する演算：直積::
関係データベースに対する演算「直積」について，以下から適切な説明を１つ選べ：{
=複数の関係（テーブル）を単純に直積集合で求める
~複数の関係（テーブル）の直積集合のviewから，必要なレコードだけを抽出する
~ある条件に該当するタプル（行）の取得を行う
~ある属性（カラム）だけを取得する
}

// question 20: sec.3.4.4 関係データベースに対する演算：結合
::Q4.3.4.4 関係データベースに対する演算：結合::
関係データベースに対する演算「結合」について，以下から適切な説明を１つ選べ：{
=複数の関係（テーブル）の直積集合のviewから，必要なレコードだけを抽出する
~ある条件に該当するタプル（行）の取得を行う
~ある属性（カラム）だけを取得する
~複数の関係（テーブル）を単純に直積集合で求める
}

// question 21: SQL
::Q4.M.3.5.1 SQL::
[html]ある気象情報を格納したSQLデータベースがあり，nagano2021テーブルとして：年月日,平均気温(℃),最高気温(℃),最低気温(℃),降水量の合計(mm),日照時間(時間),平均風速(m/s),最大風速(m/s),風向,最大瞬間風速(m/s),風向,最多風向(16方位),平均蒸気圧(hPa),最小相対湿度(％),平均湿度(％),天気概況(昼：06時〜18時),天気概況(夜：18時〜翌日06時)の項目で1年365日分のレコードが格納されているとする．このとき，平均気温(temp_ave)が29度から35度の間であった日を抽出するSQLクエリとして，正しいものを1つ選べ：<br>
<hr>
<pre>
CREATE TABLE IF NOT EXISTS nagano2021(date,temp_ave,temp_high,temp_low,rain_total,sun_shine,wind_ave,wind_max,wind_dir,wind_peak,wind_dir2,wind_dir16,humid_ave,humid_max,humid_ave2,forecast_day,forecast_night)
**Pandas DataFrameなどから，nagano2021テーブルへ365日分のデータレコードを挿入**
</pre>
<hr>{
=[moodle]SELECT * FROM nagano2021 WHERE temp_ave BETWEEN 29 and 35;
~[moodle]SELECT * FROM nagano2021 WHERE temp_ave > 29 AND temp_ave <35;
~[moodle]SELECT * FROM nagano2021 WHERE temp_ave IN (29, 35);
~[moodle]SELECT * FROM nagano2021 WHERE temp_ave NOT BETWEEN 29 and 35;
}

// question 22: SQL
::Q4.M.3.5.2 SQL::
[html]ある気象情報を格納したSQLデータベースがあり，nagano2021テーブルとして：年月日,平均気温(℃),最高気温(℃),最低気温(℃),降水量の合計(mm),日照時間(時間),平均風速(m/s),最大風速(m/s),風向,最大瞬間風速(m/s),風向,最多風向(16方位),平均蒸気圧(hPa),最小相対湿度(％),平均湿度(％),天気概況(昼：06時〜18時),天気概況(夜：18時〜翌日06時)の項目で1年365日分のレコードが格納されているとする．このとき，3月中で天気概況 forecast_day に "雪" が含まれる日を抽出するSQLクエリとして，正しいものを1つ選べ：<br>
<hr>
<pre>
CREATE TABLE IF NOT EXISTS nagano2021(date,temp_ave,temp_high,temp_low,rain_total,sun_shine,wind_ave,wind_max,wind_dir,wind_peak,wind_dir2,wind_dir16,humid_ave,humid_max,humid_ave2,forecast_day,forecast_night)
**Pandas DataFrameなどから，nagano2021テーブルへ365日分のデータレコードを挿入**
</pre>
<hr>{
=[moodle]SELECT * FROM nagano2021 WHERE date BETWEEN '2021/3/1' and '2021/3/31' AND forecast_day LIKE '%雪%';
~[moodle]SELECT * FROM nagano2021 WHERE date BETWEEN '3/1' and '3/31' AND forecast_day LIKE '%雪%';
~[moodle]SELECT * FROM nagano2021 WHERE date BETWEEN '2021/3/1' and '2021/3/31' AND forecast_day IN (雪)';
~[moodle] SELECT * FROM nagano2021 WHERE date LIKE '2021/3' AND forecast_day LIKE '雪';
}


